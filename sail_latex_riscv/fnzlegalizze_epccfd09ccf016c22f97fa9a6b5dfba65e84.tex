function #\hyperref[sailRISCVzlegalizzezyepcc]{legalize\_epcc}# (v : Capability) -> Capability = {
  let voffset = #\hyperref[sailRISCVzgetCapOffsetBits]{getCapOffsetBits}#(v);
  let legalized = #\hyperref[sailRISCVzlegalizzezyxepc]{legalize\_xepc}#(voffset);

  if   legalized == voffset
  then v /* avoid possibly attempting to set the offset of a sentry */
  else #\hyperref[sailRISCVzsetCapOffsetChecked]{setCapOffsetChecked}#(v, legalized)
}
