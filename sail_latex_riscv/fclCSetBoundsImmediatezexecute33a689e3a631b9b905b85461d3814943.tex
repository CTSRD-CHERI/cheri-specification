let cs1_val = #\hyperref[sailRISCVzC]{C}#(cs1);

let newBase = cs1_val.address;
let newTop : CapLenBits = #\hyperref[sailRISCVzEXTZ]{EXTZ}#(newBase) + #\hyperref[sailRISCVzEXTZ]{EXTZ}#(uimm);
let inBounds = #\hyperref[sailRISCVzinCapBounds]{inCapBounds}#(cs1_val, newBase, #\hyperref[sailRISCVzunsigned]{unsigned}#(uimm));

let inCap = #\hyperref[sailRISCVzclearTagIfSealed]{clearTagIfSealed}#(cs1_val);
let (_, newCap) = #\hyperref[sailRISCVzsetCapBounds]{setCapBounds}#(inCap, newBase, newTop);

#\hyperref[sailRISCVzC]{C}#(cd) = #\hyperref[sailRISCVzclearTagIf]{clearTagIf}#(newCap, #\hyperref[sailRISCVznot]{not}#(inBounds)); /* ignore exact */
RETIRE_SUCCESS
