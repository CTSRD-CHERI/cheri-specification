let rs1_val = #\hyperref[sailRISCVzX]{X}#(rs1);
let result : #\hyperref[sailRISCVzbits]{bits}#(32) = match op {
  RISCV_SLLIW => rs1_val[31..0] << shamt,
  RISCV_SRLIW => rs1_val[31..0] >> shamt,
  RISCV_SRAIW => #\hyperref[sailRISCVzshiftzyrightzyarith32]{shift\_right\_arith32}#(rs1_val[31..0], shamt)
};
#\hyperref[sailRISCVzX]{X}#(rd) = #\hyperref[sailRISCVzEXTS]{EXTS}#(result);
RETIRE_SUCCESS
