let rs1_val = (#\hyperref[sailRISCVzX]{X}#(rs1))[31..0];
let rs2_val = (#\hyperref[sailRISCVzX]{X}#(rs2))[31..0];
let result : #\hyperref[sailRISCVzbits]{bits}#(32) = match op {
  RISCV_ADDW => rs1_val + rs2_val,
  RISCV_SUBW => rs1_val - rs2_val,
  RISCV_SLLW => rs1_val << (rs2_val[4..0]),
  RISCV_SRLW => rs1_val >> (rs2_val[4..0]),
  RISCV_SRAW => #\hyperref[sailRISCVzshiftzyrightzyarith32]{shift\_right\_arith32}#(rs1_val, rs2_val[4..0])
};
#\hyperref[sailRISCVzX]{X}#(rd) = #\hyperref[sailRISCVzEXTS]{EXTS}#(result);
RETIRE_SUCCESS
