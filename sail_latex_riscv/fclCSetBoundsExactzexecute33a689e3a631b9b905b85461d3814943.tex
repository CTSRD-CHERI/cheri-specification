let cs1_val = #\hyperref[sailRISCVzC]{C}#(cs1);
let rs2_val = #\hyperref[sailRISCVzX]{X}#(rs2);

let newBase = cs1_val.address;
let newTop : CapLenBits = #\hyperref[sailRISCVzEXTZ]{EXTZ}#(newBase) + #\hyperref[sailRISCVzEXTZ]{EXTZ}#(rs2_val);
let inBounds = #\hyperref[sailRISCVzinCapBounds]{inCapBounds}#(cs1_val, newBase, #\hyperref[sailRISCVzunsigned]{unsigned}#(rs2_val));

let inCap = #\hyperref[sailRISCVzclearTagIfSealed]{clearTagIfSealed}#(cs1_val);
let (exact, newCap) = #\hyperref[sailRISCVzsetCapBounds]{setCapBounds}#(inCap, newBase, newTop);

#\hyperref[sailRISCVzC]{C}#(cd) = #\hyperref[sailRISCVzclearTagIf]{clearTagIf}#(newCap, #\hyperref[sailRISCVznot]{not}#(inBounds & exact));
RETIRE_SUCCESS
