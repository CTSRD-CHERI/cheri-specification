__read_mem : forall 'n 'addrsize, ('n > 0 & 'addrsize in {32, 64}).
  (read_kind, int('addrsize), bits('addrsize), int('n)) -> bits(8 * 'n)