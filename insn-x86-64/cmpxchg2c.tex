\clearpage
\phantomsection
\addcontentsline{toc}{subsection}{CMPXCHG2C - Compare and Exchange Pair}
\insnxeslabel{cmpxchg2c}
\subsection*{CMPXCHG2C - Compare and Exchange Pair}

\begin{x86opcodetable}
  \xopcode{CAP + 0F C7 /1}{CMPXCHG2C \emph{m2c}}
  {MR}{Valid}{Valid}
  {Compare CDX:CAX with \emph{m2c}. If equal, set ZF and CCX:CBX to
    \emph{m2c}, else load \emph{m2c} into CDX:CAX.}
\end{x86opcodetable}

\begin{x86opentable}
  \xopen{MR}{ModRM:r/m (r,w)}{ModRM:reg (r)}{NA}{NA}
\end{x86opentable}

\subsubsection*{Description}

Compares the pair of capabilities in \CDX{}:\CAX{} with the
destination operand.  \CAX{} is compared with the first capability in
memory, and \CDX{} is compared with the second capability in memory.
If the capabilities are equal, stores \CCX{}:\CBX{} in the destination
operand.  If the capabilities are not equal, loads the destination
operand into \CDX{}:\CAX{}.

The instruction can be used with a \insnnoref{LOCK} prefix to execute
atomically.

\subsubsection*{Flags Affected}

The ZF flag is set to the result of the comparison (1 if equal).  The
OF, SF, AF, CF, and PF flags are unaffected.
