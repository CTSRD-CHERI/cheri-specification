#\hyperref[sailMIPSzcheckCP2usable]{checkCP2usable}#();
let cb_val = #\hyperref[sailMIPSzreadCapReg]{readCapReg}#(cb);
let rt_val = #\hyperref[sailMIPSzrGPR]{rGPR}#(rt);
if cb_val.tag & cb_val.sealed then
  #\hyperref[sailMIPSzraisezyc2zyexception]{raise\_c2\_exception}#(CapEx_SealViolation, cb)
else
{
  let newAddr = cb_val.address & rt_val;
  let (representable, newCap) = #\hyperref[sailMIPSzsetCapAddr]{setCapAddr}#(cb_val, newAddr);
  if representable then
      #\hyperref[sailMIPSzwriteCapReg]{writeCapReg}#(cd, newCap)
  else
      #\hyperref[sailMIPSzwriteCapReg]{writeCapReg}#(cd, #\hyperref[sailMIPSzunrepCap]{unrepCap}#(newCap));
}
